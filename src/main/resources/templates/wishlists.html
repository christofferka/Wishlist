<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Mine Ønskesedler | HaqqWish</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 min-h-screen text-white font-sans">

<!-- Navbar -->
<nav class="flex justify-between items-center px-10 py-6 bg-blue-950/70 backdrop-blur-md shadow-lg border-b border-blue-800/50 fixed top-0 left-0 w-full z-50">
    <a href="/" class="flex items-center space-x-2 group">
        <div class="bg-white rounded-full w-9 h-9 flex items-center justify-center text-sky-600 font-bold text-xl group-hover:scale-110 transition">☁</div>
        <h1 class="text-2xl font-bold tracking-tight group-hover:text-yellow-300 transition">HaqqWish</h1>
    </a>
    <div class="space-x-6">
        <a href="/logout" class="text-gray-300 hover:text-yellow-200 transition">Log ud</a>
    </div>
</nav>

<!-- Page header -->
<header class="text-center mt-32 mb-10">
    <h2 class="text-4xl font-bold text-yellow-400 drop-shadow-md">Mine Ønskesedler</h2>
    <p class="text-gray-300 mt-2">Opret, del, rediger eller slet dine ønskesedler</p>
</header>

<!-- Opret ny ønskeseddel -->
<section class="max-w-xl mx-auto bg-blue-950/50 border border-blue-800/50 rounded-2xl p-6 shadow-lg mb-12 text-center">
    <h3 class="text-2xl font-semibold text-yellow-300 mb-4">+ Opret ny ønskeseddel</h3>

    <form th:action="@{/wishes/createList}" method="post" class="flex flex-col sm:flex-row items-center justify-center gap-4">
        <input type="text" name="name" placeholder="Navn på ønskeseddel"
               required
               class="flex-1 px-4 py-2 rounded-lg bg-blue-900/50 border border-blue-800/70 text-gray-200 focus:outline-none focus:ring-2 focus:ring-yellow-300 placeholder-gray-400">
        <button type="submit"
                class="bg-yellow-400 text-blue-900 px-6 py-2 rounded-lg font-semibold hover:bg-yellow-300 transition">
            Opret
        </button>
    </form>
</section>

<!-- All wishlists -->
<main class="max-w-5xl mx-auto px-6 grid gap-8 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3">
    <div th:each="list : ${wishlists}"
         class="bg-blue-950/50 backdrop-blur-md border border-blue-800/60 rounded-2xl shadow-xl p-6 hover:scale-[1.02] transition-transform duration-300">

        <!-- Titel -->
        <h3 class="text-2xl font-bold text-yellow-300 truncate mb-2" th:text="${list.name}"></h3>

        <!-- Delingslink -->
        <div class="text-sm text-gray-300 mb-4">
            <p>Delingslink:</p>
            <input type="text" readonly
                   th:value="@{'https://haqqwish.azurewebsites.net/wishes/share/' + ${list.shareId}}"
                   class="bg-blue-950/50 border border-blue-800/60 rounded px-2 py-1 w-full text-gray-200 text-sm select-all">
        </div>

        <!-- Knapper -->
        <div class="flex justify-between items-center pt-2">
            <a th:href="@{'/wishes/viewlist/' + ${list.id}}"
               class="bg-yellow-400 text-blue-900 font-semibold px-4 py-2 rounded-lg hover:bg-yellow-300 transition">
                Åbn
            </a>

            <div class="flex space-x-3">
                <a th:href="@{'/wishes/editlist/' + ${list.id}}"
                   class="text-yellow-200 hover:text-yellow-100 font-medium">Rediger</a>
                <a th:href="@{'/wishes/deletelist/' + ${list.id}}"
                   onclick="return confirm('Er du sikker på, at du vil slette denne ønskeseddel?');"
                   class="text-red-400 hover:text-red-300 font-medium">Slet</a>
            </div>
        </div>
    </div>
</main>

<!-- Empty state -->
<section th:if="${#lists.isEmpty(wishlists)}" class="text-center mt-20 text-gray-400">
    <p>Du har endnu ingen ønskesedler. Opret din første nedenfor.</p>
</section>

<!-- Footer -->
<footer class="text-center mt-20 py-6 text-sm text-gray-400 border-t border-blue-800/50">
    © 2025 HaqqWish — Alle dine ønsker samlet ét sted
</footer>

</body>
</html>
